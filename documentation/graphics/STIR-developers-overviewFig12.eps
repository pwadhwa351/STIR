%!PS-Adobe-3.0 EPSF-3.0
%%Creator: (ImageMagick)
%%Title: (STIR-developers-overviewFig12.eps)
%%CreationDate: (Mon Oct 25 16:23:51 2004)
%%BoundingBox: 0 0 407 79
%%DocumentData: Clean7Bit
%%LanguageLevel: 1
%%Pages: 0
%%EndComments

%%BeginDefaults
%%PageOrientation: Portrait
%%EndDefaults

%%BeginProlog
%
% Display a color image.  The image is displayed in color on
% Postscript viewers or printers that support color, otherwise
% it is displayed as grayscale.
%
/buffer 512 string def
/byte 1 string def
/color_packet 3 string def
/pixels 768 string def

/DirectClassPacket
{
  %
  % Get a DirectClass packet.
  %
  % Parameters:
  %   red.
  %   green.
  %   blue.
  %   length: number of pixels minus one of this color (optional).
  %
  currentfile color_packet readhexstring pop pop
  compression 0 gt
  {
    /number_pixels 3 def
  }
  {
    currentfile byte readhexstring pop 0 get
    /number_pixels exch 1 add 3 mul def
  } ifelse
  0 3 number_pixels 1 sub
  {
    pixels exch color_packet putinterval
  } for
  pixels 0 number_pixels getinterval
} bind def

/DirectClassImage
{
  %
  % Display a DirectClass image.
  %
  systemdict /colorimage known
  {
    columns rows 8
    [
      columns 0 0
      rows neg 0 rows
    ]
    { DirectClassPacket } false 3 colorimage
  }
  {
    %
    % No colorimage operator;  convert to grayscale.
    %
    columns rows 8
    [
      columns 0 0
      rows neg 0 rows
    ]
    { GrayDirectClassPacket } image
  } ifelse
} bind def

/GrayDirectClassPacket
{
  %
  % Get a DirectClass packet;  convert to grayscale.
  %
  % Parameters:
  %   red
  %   green
  %   blue
  %   length: number of pixels minus one of this color (optional).
  %
  currentfile color_packet readhexstring pop pop
  color_packet 0 get 0.299 mul
  color_packet 1 get 0.587 mul add
  color_packet 2 get 0.114 mul add
  cvi
  /gray_packet exch def
  compression 0 gt
  {
    /number_pixels 1 def
  }
  {
    currentfile byte readhexstring pop 0 get
    /number_pixels exch 1 add def
  } ifelse
  0 1 number_pixels 1 sub
  {
    pixels exch gray_packet put
  } for
  pixels 0 number_pixels getinterval
} bind def

/GrayPseudoClassPacket
{
  %
  % Get a PseudoClass packet;  convert to grayscale.
  %
  % Parameters:
  %   index: index into the colormap.
  %   length: number of pixels minus one of this color (optional).
  %
  currentfile byte readhexstring pop 0 get
  /offset exch 3 mul def
  /color_packet colormap offset 3 getinterval def
  color_packet 0 get 0.299 mul
  color_packet 1 get 0.587 mul add
  color_packet 2 get 0.114 mul add
  cvi
  /gray_packet exch def
  compression 0 gt
  {
    /number_pixels 1 def
  }
  {
    currentfile byte readhexstring pop 0 get
    /number_pixels exch 1 add def
  } ifelse
  0 1 number_pixels 1 sub
  {
    pixels exch gray_packet put
  } for
  pixels 0 number_pixels getinterval
} bind def

/PseudoClassPacket
{
  %
  % Get a PseudoClass packet.
  %
  % Parameters:
  %   index: index into the colormap.
  %   length: number of pixels minus one of this color (optional).
  %
  currentfile byte readhexstring pop 0 get
  /offset exch 3 mul def
  /color_packet colormap offset 3 getinterval def
  compression 0 gt
  {
    /number_pixels 3 def
  }
  {
    currentfile byte readhexstring pop 0 get
    /number_pixels exch 1 add 3 mul def
  } ifelse
  0 3 number_pixels 1 sub
  {
    pixels exch color_packet putinterval
  } for
  pixels 0 number_pixels getinterval
} bind def

/PseudoClassImage
{
  %
  % Display a PseudoClass image.
  %
  % Parameters:
  %   class: 0-PseudoClass or 1-Grayscale.
  %
  currentfile buffer readline pop
  token pop /class exch def pop
  class 0 gt
  {
    currentfile buffer readline pop
    token pop /depth exch def pop
    /grays columns 8 add depth sub depth mul 8 idiv string def
    columns rows depth
    [
      columns 0 0
      rows neg 0 rows
    ]
    { currentfile grays readhexstring pop } image
  }
  {
    %
    % Parameters:
    %   colors: number of colors in the colormap.
    %   colormap: red, green, blue color packets.
    %
    currentfile buffer readline pop
    token pop /colors exch def pop
    /colors colors 3 mul def
    /colormap colors string def
    currentfile colormap readhexstring pop pop
    systemdict /colorimage known
    {
      columns rows 8
      [
        columns 0 0
        rows neg 0 rows
      ]
      { PseudoClassPacket } false 3 colorimage
    }
    {
      %
      % No colorimage operator;  convert to grayscale.
      %
      columns rows 8
      [
        columns 0 0
        rows neg 0 rows
      ]
      { GrayPseudoClassPacket } image
    } ifelse
  } ifelse
} bind def

/DisplayImage
{
  %
  % Display a DirectClass or PseudoClass image.
  %
  % Parameters:
  %   x & y translation.
  %   x & y scale.
  %   label pointsize.
  %   image label.
  %   image columns & rows.
  %   class: 0-DirectClass or 1-PseudoClass.
  %   compression: 0-RunlengthEncodedCompression or 1-NoCompression.
  %   hex color packets.
  %
  gsave
  currentfile buffer readline pop
  token pop /x exch def
  token pop /y exch def pop
  x y translate
  currentfile buffer readline pop
  token pop /x exch def
  token pop /y exch def pop
  currentfile buffer readline pop
  token pop /pointsize exch def pop
  /Helvetica findfont pointsize scalefont setfont
  x y scale
  currentfile buffer readline pop
  token pop /columns exch def
  token pop /rows exch def pop
  currentfile buffer readline pop
  token pop /class exch def pop
  currentfile buffer readline pop
  token pop /compression exch def pop
  class 0 gt { PseudoClassImage } { DirectClassImage } ifelse
  grestore
} bind def
%%EndProlog
%%Page:  1 1
%%PageBoundingBox: 0 0 408 80
userdict begin
%%BeginData:
DisplayImage
0 0
408 80
12.000000
408 80
1
0
0
256
ffffff
000000
ffffc0
9f9f60
900000
009000
000090
c0c0c0
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
000000
006801c600d0010000c4010000d0010000c4010000d0010000c4010000d0010000c40100
00d0010000c4010000d0010000350104000e010000010100000601000008010000060100
000701040009010400020100003c010000d0010000350100000301000010010100040101
00080100000f0100000301000008010000030100003f010000d001000035010000030100
000201000000010000010102000201000001010100040101000201020001010200010100
000001000000010000000100000301000000010000030100000101000002010000010100
000301000001010000010100000001010036010000d00100003501000003010000020101
000101000002010000010100000101000000010000020100000001000001010000020100
000101000002010100010100000101000001010000010100000301000001010000020100
00010100000301000001010000010101000101000035010000d001000035010400030100
000201000002010000010100000101000000010000020100000001000005010000010100
000201000002010000020101000201040002010000020100000101040002010000010100
000201000035010000d00100003501000007010000020100000201000001010000010100
000101000000010000010100000201030001010000020100000201000002010100020100
000301000001010000010100000201000003010000010100000101000002010000350100
00d001000035010000070100000201000002010000010100000101000001010000000100
000101000001010000020100000101000002010000020100000101000001010000010100
000301000002010000000100000201000003010000010100000101000002010000350100
00d001000035010000070100000201000002010000010100000101000002010000020100
000101000002010000010100000201000002010000000100000301000000010000030100
000201000000010000020100000301000001010000010100000201000035010000d00100
003501000007010000030102000201000001010000020100000201000002010200000100
000001010001010000020100000001000003010000000104000401000003010400020100
00010100000201000035010000d0010000490100002e01000049010000d0010000490100
002d0100004a010000d0010000480100002d0100004b010000d0010000c4010000d00100
00c4010000d0010000c4010000d0010000c4010000d0010000c4010000d001c600ff0033
060000ff0096060000ff0095060200ff0094060200ff0093060400ff0092060400ff0094
060000ff0096060000ff0096060000ff0096060000ff0096060000ff0096060000ff0096
060000ff0096060000ff0096060000ff0096060000ff002e06d100c5060000cf060000c5
060000cf060000c5060000cf060000c5060000cf060000c5060000cf060000c5060000cf
060000c5060000cf060000c5060000cf060000c5060000cf060000c5060000cf060000c5
060000cf060000c5060000cf060000c5060000cf060000c5060000cf060000c5060000cf
06000062036206000362000903620600036302c403000009030002c4030102c403000009
030002c4030102c403000009030002c4030102c403000009030002c4030102c403000009
030002c4030102050104020e010002010100020601000208010002060100020701040209
010402020100020801000203010002070100020f0104020f010602130100021303000009
0300021c0104020e01000201010002060100020801000206010002070104020901040202
010002080105021601050201010002010100022303010205010002030100021001010204
010102080100020f0100020301000208010002030100020b010002030100021801000203
010002110100022b030000090300021c010002030100021001010204010102080100020f
0100020301000208010002030100020b0100021b01000209010002230301020501000203
010002020100020001000201010202020100020101010204010102020102020101020201
010002000100020001000200010002030100020001000203010002010100020201000201
010002030100020101000201010002000101020201000203010002020101020201000201
010002000101020301010200010002010100020301000202010202020100020201000203
010002040100020001000201010202030102020201000201010002000101020301010200
01000205030000090300021c010002030100020201000200010002010102020201000201
010102040101020201020201010202010100020001000200010002000100020301000200
010002030100020101000202010002010100020301000201010002010100020001010202
010002070100020001000201010202020100020001000201010002020100020601000201
010002020102021d03010205010002030100020201010201010002020100020101000201
010002000100020201000200010002010100020201000201010002020101020101000201
010002010100020101000203010002010100020201000201010002030100020101000201
010102010100020101000203010002010100020101000201010002010101020101000201
010002010101020101000203010002010100020201000201010002020100020301000204
010102010100020201000201010002020100020101000201010102010100020101000201
01010205030000090300021c010002030100020201010201010002020100020101000201
010002000100020201000200010002010100020201000201010002020101020101000201
010002010100020101000203010002010100020201000201010002030100020101000201
010102010100020101000207010102010100020201000201010102000101020001000201
010002060100020101000201010002020100021c03010205010402030100020201000202
010002010100020101000200010002020100020001000205010002010100020201000202
010002020101020201040202010002020100020101040202010002010100020201000201
010002030100020101000204010002010100020201000201010002020100020101040206
010002010100020201000203010002040100020601000201010002050100020101000202
010002010100020201000205030000090300021c01040203010002020100020201000201
010002010100020001000202010002000100020501000201010002020100020201000202
010102020104020201000202010002010104020201000201010002020100020101040203
010002020100020201000201010002010100020101000201010402020100020101000201
010002020100021c03010205010002070100020201000202010002010100020101000201
010002000100020101000202010302010100020201000202010002020101020201000203
010002010100020101000202010002030100020101000201010002020100020101000203
010002020101020201000201010002020100020101000202010002010100020201000203
010302010100020101000204010002040100020301030201010002050100020101000202
010002010100020201000205030000090300021c01000207010002020100020201000201
010002010100020101000200010002010100020201030201010002020100020201000202
010102020100020301000201010002010100020201000203010002010100020101000202
010002010100020701000202010002020100020101000201010002010100020101000206
01000201010002010104021c030102050100020701000202010002020100020101000201
010002010100020001000201010002010100020201000201010002020100020201000201
010002010100020101000203010002020100020001000202010002030100020101000201
010002020100020101000203010002040100020101000201010002020100020101000202
010002010100020301000201010002020100020201000200010002040100020401000202
010002020100020101000205010002010100020201000201010002020100020503000009
0300021c0100020701000202010002020100020101000201010002010100020001000201
010002010100020201000201010002020100020201000201010002010100020101000203
010002020100020001000202010002030100020101000201010002020100020101000207
010002020100020201000201010002010100020101000201010002060100020101000201
010002200301020501000207010002020100020201000201010002010100020201000202
010002010100020201000201010002020100020201000200010002030100020001000203
010002020100020001000202010002030100020101000201010002020100020101000203
010002010100020101000201010002010100020201000201010002010101020101000203
010002010100020201000202010002000100020401000204010002020100020201000201
01000202010002010100020101000202010002010100020101010205030000090300021c
010002070100020201000202010002010100020101000202010002020100020101000202
010002010100020201000202010002000100020301000200010002030100020201000200
010002020100020301000201010002010100020201000201010002070100020201000202
01000201010002010100020101000201010002060100020101000201010002020100021c
030102050100020701000203010202020100020101000202010002020100020201020200
010002000101020101000202010002000100020301000200010402040100020301040202
010002010100020201000202010302030101020201000201010002020100020201010200
010002010100020301000202010202000100020201000205010002040100020301020200
01000201010202020100020101000202010002020101020001000205030000090300021c
010002070100020301020202010002010100020201000202010002020102020001000200
010102010100020201000200010002030100020001040204010002030104020201000201
010002020100020101000207010002030102020201000201010002010100020101000206
01000201010002020102021d030102190100022e01000231010002120100022b01000205
03000009030002300100022e01000262030102190100022d0100022e0100020201000211
01000228010002020100020503000009030002300100022d01000263030102180100022d
01000230010202110100022a01020206030000090300022f0100022d01000264030102c4
03000009030002c4030102c403000009030002c4030102c403000009030002c4030102c4
03000009030002c4030102c403000009030002c403c7000903c5
%%EndData
end
%%PageTrailer
%%Trailer
%%BoundingBox: 0 0 407 79
%%EOF
